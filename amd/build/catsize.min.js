define ("report_coursesize/catsize",["exports","jquery","core/str","core/templates","core/url"],function(a,b,c,d,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var f={catToggle:".cattoggle",courseToggle:".coursetoggle"};a.init=function init(a,g,h,i){var j=function(j,k){var l="cat"==j?f.catToggle:f.courseToggle;if("block"==document.getElementById(j+k).style.display){document.getElementById(j+k).style.display="none";(0,c.get_string)("tdtoggle","report_coursesize").then(function(a){(0,d.renderPix)("t/switch_plus","core",a).then(function(a){(0,b.default)(l+"[data-id="+k+"]").html(a)})})}else{if(""==document.getElementById(j+k).innerHTML){if(0!=k){(0,c.get_string)("loading","core").then(function(a){(0,d.renderPix)("i/loading","core",a).then(function(a){(0,b.default)(l+"[data-id="+k+"]").html(a)})})}b.default.ajax({type:"GET",url:(0,e.relativeUrl)("/report/coursesize/callback.php"),data:{id:k,course:"cat"==j?0:1,sorder:a,sdir:g,display:h,excludebackups:i}}).done(function(a){document.getElementById(j+k).innerHTML=a;document.getElementById(j+k).style.display="block";if(0!=k){(0,c.get_string)("tdtoggle","report_coursesize").then(function(a){(0,d.renderPix)("t/switch_minus","core",a).then(function(a){(0,b.default)(l+"[data-id="+k+"]").html(a)})})}})}else{document.getElementById(j+k).style.display="block";if(0!=k){(0,c.get_string)("tdtoggle","report_coursesize").then(function(a){(0,d.renderPix)("t/switch_minus","core",a).then(function(a){(0,b.default)(l+"[data-id="+k+"]").html(a)})})}}}};j("cat",0);(function registerEventListeners(){document.addEventListener("click",function(a){var c=a.target;if((0,b.default)(c).attr("data-id")===void 0){c=a.target.parentNode}if(a.target.closest(f.catToggle)){a.preventDefault();j("cat",c.getAttribute("data-id"));return}if(a.target.closest(f.courseToggle)){a.preventDefault();j("course",c.getAttribute("data-id"))}})})()}});
//# sourceMappingURL=catsize.min.js.map
